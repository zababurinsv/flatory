!function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";function n(e,t){return new Promise(async(a,n)=>{if(window.indexedDB){let n={};n.name=e.name,n.version=e.version;try{n.request=window.indexedDB.open(`${e.name}`,`${e.version}`)}catch(e){console.assert(!1)}n.request.onsuccess=function(e){t(n.request.result)},n.request.onerror=function(e){},n.request.onupgradeneeded=function(t){switch(e.name){case"flatory":if(n.db=t.target.result,n.objectStore=n.db.createObjectStore("cat_object",{keyPath:"id"}),n.objectStore.createIndex("city","city",{unique:!1}),n.objectStore.createIndex("class","class",{unique:!1}),n.objectStore.createIndex("dateExperiences","dateExperiences",{unique:!1}),n.objectStore.createIndex("description","description",{unique:!1}),n.objectStore.createIndex("finish","finish",{unique:!1}),n.objectStore.createIndex("geo","geo",{unique:!1}),n.objectStore.createIndex("metro","metro",{unique:!1}),n.objectStore.createIndex("name","name",{unique:!1}),n.objectStore.createIndex("object","object",{unique:!1}),n.objectStore.createIndex("plans","plans",{unique:!1}),n.objectStore.createIndex("price","price",{unique:!1}),n.objectStore.createIndex("tags","tags",{unique:!1}),n.objectStore.createIndex("timestamp","timestamp",{unique:!1}),n.objectStore.createIndex("timestampUpdate","timestampUpdate",{unique:!1}),n.objectStore.createIndex("type","type",{unique:!1}),e.data)for(let t in e.data)n.objectStore.add(e.data[t]);break;case"dictionary":if(n.db=t.target.result,n.objectStore=n.db.createObjectStore("dictionary",{autoIncrement:!0}),e.data)for(let t in e.data)n.objectStore.add(e.data[t])}a(n)}}else window.alert("Ваш браузер не поддерживат стабильную версию IndexedDB. Такие-то функции будут недоступны")})}a.r(t);var i={get:async(e,t,...a)=>new Promise(async(t,a)=>{let i=e=>{t(e)};switch(e.type){case"dictionary":(async(e,t,a)=>{await n({name:"dictionary",version:1,data:e.data},async e=>{let t=[];e.transaction(["dictionary"],"readwrite").objectStore("dictionary").openCursor().onsuccess=e=>{let a=e.target.result;a?(t.push(a.value),a.continue()):i(t)}})})(e);break;case"id":(async(e,t,a)=>{await n({name:"flatory",version:1},async t=>{let a=[];0===e.id.length?t.transaction(["cat_object"],"readwrite").objectStore("cat_object").openCursor().onsuccess=e=>{let t=e.target.result;t?(a.push(t.value),t.continue()):i(a)}:t.transaction(["cat_object"],"readwrite").objectStore("cat_object").get(e.id).onsuccess=e=>{i(e.target.result)}})})(e);break;case"getAll":(async(e,t,a)=>{await n({name:"flatory",version:1},async e=>{let t=[];e.transaction(["cat_object"],"readwrite").objectStore("cat_object").openCursor().onsuccess=e=>{let a=e.target.result;a?(t.push(a.value),a.continue()):i(t)}})})();break;case"index":(async(e,t,a)=>{await n({name:"flatory",version:1},async t=>{let a=t.transaction(["cat_object"],"readwrite").objectStore("cat_object").index(`${e.index}`),n=[];if("price"===e.index)a.openCursor().onsuccess=function(t){let a=t.target.result;if(a){let t=a.key.split(","),i=!1;const s=/[^\d\.\' ']/g;for(let a=0;a<t.length;a++){let n=t[a].replace(s,"");n=(n=(n=n.replace(/^\s+/g,"")).split(" "))[0],n=parseFloat(n);let r=parseFloat(e.filter);isNaN(n)?i=!0:isNaN(r)?i=!0:r>=n&&(i=!0)}i&&n.push(a.value),a.continue()}else i(n)};else if("city"===e.index){let a=t.transaction(["cat_object"],"readwrite").objectStore("cat_object").index(`${e.index}`),n=[];a.openCursor().onsuccess=function(t){let a=t.target.result;a?(0===parseInt(e.filter,10)?n.push(a.value):parseInt(a.key,10)===parseInt(e.filter,10)&&n.push(a.value),a.continue()):i(n)}}else a.openCursor().onsuccess=function(t){let a=t.target.result;a?(a.key.toLowerCase().indexOf(e.filter.toLowerCase())>-1&&n.push(a.value),a.continue()):i(n)}})})(e);break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),put:async(e,t,...a)=>new Promise(async(t,a)=>{let i=e=>{t(e)};switch(e.type){case"data":(async(e,t,a)=>{let s=await fetch("dev.work/api/item",{method:"GET"}).then(e=>e.json());await n({name:"flatory",version:1},async e=>{for(let t in s)e.transaction(["cat_object"],"readwrite").objectStore("cat_object").put(s[0]).onsuccess=e=>{s.length-1==t&&i(!0)}})})();break;case"item":(async(e,t,a)=>{await n({name:"flatory",version:1},async t=>{t.transaction(["cat_object"],"readwrite").objectStore("cat_object").put(e.value).onsuccess=e=>{i(!0)}})})(e);break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),delete:async(e,t,...a)=>new Promise(async(t,a)=>{switch(e.type){case"test":(async(e,a,i)=>{await n({name:"flatory",version:1},async e=>{e.transaction(["cat_object"],"readwrite").objectStore("cat_object").delete("144").onsuccess=e=>{console.log(e.target.result),(e=>{t(e)})(!0)}})})();break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),set:async(e,t,...a)=>new Promise(async(t,a)=>{switch(e.type){case"dictionary":(async(e,a,i)=>{await n({name:"dictionary",version:1,data:e.data},async e=>{(e=>{t(e)})(!0)})})(e);break;default:(e=>{a(e)})(`новая функция ${e.type} `)}})};var s=e=>new Promise(async(t,a)=>{let n=await function(e){return new Promise(async(t,a)=>{let n="";if("null"===e)n+='<option value="0">0</option>';else{e=e.split(",");let t=[];for(let a=0;a<e.length;a++){let n=e[a].replace(/[^-0-9]/gim,"");0!==n.length&&(n.length>1?console.warn("слишком большое колличество символов"):t.push(n))}for(let e=0;e<t.length;e++)n+=`<option value="${t[e]}">${t[e]}</option> \n`}t(n)})}(e.plans),i=await function(e){return new Promise(async(t,a)=>{let n="";if("null"===e)n+='<option value="0">0</option>';else{e=e.split(",");for(let t=0;t<e.length;t++)e[t]=e[t].replace(/^\s*(.*)\s*$/,"$1"),n+=`<option value="${e[t]}">${e[t]}</option> \n`}t(n)})}(e.price);switch(parseInt(e.city,10)){case 0:e.city="неизвестный";break;case 1:e.city="Москва";break;case 2:e.city="Санкт-Петербург";break;default:e.city="неизвестный"}(e=>{t(e)})(`\n<tr>\n<td class="id">${e.id}</td>\n<td class="city">${e.city}</td>\n<td class="name">${e.name}</td>\n<td class="object">${e.object}</td>\n<td class="dateExperiences">${e.dateExperiences}</td>\n<td class="class">${e.class}</td>\n<td class="type">${e.type}</td>\n<td class="metro">${e.metro}</td>\n<td class="geo">${e.geo}</td>\n<td class="plan"><select class  ="form-control search_input_plan" name="plan">${n}</select></td>\n<td class="price"><select class  ="form-control search_input_plan" name="price">${i}</select></td>\n<td class="finish">${e.finish}</td>\n<td class="addition">${e.description}</td>\n<td>\n<a class="button button-lg btn-lg edit" title="Edit">\n<i class="fa fa-save" title="Save"></i></a> \n<a class="button btn-lg button-lg delete" title="Delete">\n<i class="fa fa-trash"></i>\n</a>\n</td>\n</tr>`)}),r=async(e,t,...a)=>new Promise(async(t,a)=>{switch(e.type){case"item":((e,a,n)=>{(e=>{t(e)})(sessionStorage.setItem(e.key,e.value))})(e);break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),o=async(e,t,...a)=>new Promise(async(t,a)=>{let n=e=>{t(e)};switch(e.type){case"item":((e,t,a)=>{n(sessionStorage.getItem(e.key))})(e);break;case"all":((e,t,a)=>{let i=Object.keys(sessionStorage),s=[];for(let e=0;e<i.length;e++)i[e].split("_").length>1||s.push(JSON.parse(sessionStorage.getItem(i[e])));n(s)})();break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),l=async(e,t,...a)=>new Promise(async(t,a)=>{switch(e.type){case"item":((e,a,n)=>{(e=>{t(e)})(sessionStorage.removeItem(e.key))})(e);break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),c=async(e,t,...a)=>new Promise(async(t,a)=>{switch(e.type){case"sessionStorage":(async(e,t,a)=>{await r({type:"item",key:`item_${e.key}`,value:e.value})})(e),(e=>{t(e)})(!0);break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),d=async(e,t,...a)=>new Promise(async(t,a)=>{let n=e=>{t(e)};switch(e.type){case"sessionStorage":(async(e,t,a)=>{let s=Object.keys(sessionStorage),c=[];if(c.city=!1,c.class=!1,c.dateExperiences=!1,c.description=!1,c.finish=!1,c.geo=!1,c.id=!1,c.metro=!1,c.name=!1,c.object=!1,c.plans=!1,c.price=!1,c.tags=!1,c.type=!1,0===s.length){for(let t in c)t===e.item?r({type:"item",key:`item_${t}`,value:-10}):r({type:"item",key:`item_${t}`,value:-9});n(!1)}else{let t=!1,a=!0,s={};for(let n in c)if(n===e.item)0===e.length?r({type:"item",key:`item_${n}`,value:-9}):r({type:"item",key:`item_${n}`,value:-10});else{let e=await o({type:"item",key:`item_${n}`});if(-10===parseInt(e,10)){if(a)switch(n){case"city":s=await i.get({type:"index",index:"city",filter:document.getElementById("search_input_City").value.toLowerCase()});break;case"class":s=await i.get({type:"index",index:"class",filter:document.getElementById("search_input_houseClass").value.toLowerCase()});break;case"dateExperiences":s=await i.get({type:"index",index:"dateExperiences",filter:document.getElementById("search_input_Deadline").value.toLowerCase()});break;case"description":s=await i.get({type:"index",index:"description",filter:document.getElementById("search_input_AdditionalInfo").value.toLowerCase()});break;case"finish":s=await i.get({type:"index",index:"finish",filter:document.getElementById("search_input_Finish").value.toLowerCase()});break;case"geo":s=await i.get({type:"index",index:"geo",filter:document.getElementById("search_input_geo").value.toLowerCase()});break;case"id":s=await i.get({type:"id",id:document.getElementById("search_input_id").value.toLowerCase()});break;case"metro":s=await i.get({type:"index",index:"metro",filter:document.getElementById("search_input_Metro").value.toLowerCase()});break;case"name":s=await i.get({type:"index",index:"name",filter:document.getElementById("search_input_Developer").value.toLowerCase()});break;case"object":s=await i.get({type:"index",index:"object",filter:document.getElementById("search_input_Object").value.toLowerCase()});break;case"plans":s=await i.get({type:"index",index:"plans",filter:document.getElementById("search_input_plan").value.toLowerCase()});break;case"price":s=await i.get({type:"index",index:"price",filter:document.getElementById("search_input_price").value.toLowerCase()});break;case"tags":break;case"type":s=await i.get({type:"index",index:"type",filter:document.getElementById("search_input_houseType").value.toLowerCase()});break;default:console.assert(!1,`необрабатываемый запрос ${n}`)}else switch(n){case"city":s=await i.get({type:"index",index:"city",filter:document.getElementById("search_input_City").value.toLowerCase()});break;case"class":s=await i.get({type:"index",index:"class",filter:document.getElementById("search_input_houseClass").value.toLowerCase()});break;case"dateExperiences":s=await i.get({type:"index",index:"dateExperiences",filter:document.getElementById("search_input_Deadline").value.toLowerCase()});break;case"description":s=await i.get({type:"index",index:"description",filter:document.getElementById("search_input_AdditionalInfo").value.toLowerCase()});break;case"finish":s=await i.get({type:"index",index:"finish",filter:document.getElementById("search_input_Finish").value.toLowerCase()});break;case"geo":s=await i.get({type:"index",index:"geo",filter:document.getElementById("search_input_geo").value.toLowerCase()});break;case"id":s=await i.get({type:"id",id:document.getElementById("search_input_id").value.toLowerCase()});break;case"metro":s=await i.get({type:"index",index:"metro",filter:document.getElementById("search_input_Metro").value.toLowerCase()});break;case"name":s=await i.get({type:"index",index:"name",filter:document.getElementById("search_input_Developer").value.toLowerCase()});break;case"object":s=await i.get({type:"index",index:"object",filter:document.getElementById("search_input_Object").value.toLowerCase()});break;case"plans":s=await i.get({type:"index",index:"plans",filter:document.getElementById("search_input_plan").value.toLowerCase()});break;case"price":s=await i.get({type:"index",index:"price",filter:document.getElementById("search_input_price").value.toLowerCase()});break;case"tags":break;case"type":s=await i.get({type:"index",index:"type",filter:document.getElementById("search_input_houseType").value.toLowerCase()});break;default:console.assert(!1,`необрабатываемый запрос ${n}`)}if(a)if(void 0===s)a=!1;else{for(let e=0;e<s.length;e++)r({type:"item",key:`${s[e].id}`,value:JSON.stringify(s[e])});a=!1}else if(void 0===s){let e=await o({type:"all"});for(let t=0;t<e.length;t++)l({type:"item",key:e[t].id})}else{let e=await o({type:"all"});for(let t=0;t<e.length;t++){let a=!1;for(let n=0;n<s.length;n++)e[t].id===s[n].id&&(a=!0);a||l({type:"item",key:e[t].id})}}t=!0}}n(!!t)}})(e);break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),p=async(e,t,...a)=>new Promise(async(t,a)=>{switch(e.type){case"sessionStorage":((e,a,n)=>{let i=Object.keys(sessionStorage);for(let e=0;e<i.length;e++)i[e].split("_").length>1||l({type:"item",key:i[e]});(e=>{t(e)})(!0)})();break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),y=async(e,t,...a)=>new Promise(async(t,a)=>{switch(e.type){case"plan":(async(e,a,n)=>{e.this.addEventListener("click",async e=>{let t=!0,a=e.target.parentNode;for(;t;)"TR"===a.tagName?t=!1:a=a.parentNode;switch(e.target.name){case"plan":let t=a.querySelector(".price");(t=t.querySelector("select")).selectedIndex=e.target.selectedIndex;break;case"price":let n=a.querySelector(".plan");(n=n.querySelector("select")).selectedIndex=e.target.selectedIndex}}),(e=>{t(e)})(!0)})(e);break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),u=(e,t,...a)=>{function n(e){$("#maxRows").on("change",(function(){$(".pagination").html("");var t=0,a=parseInt($(this).val()),n=$(e+" tbody tr").length;if($(e+" tr:gt(0)").each((function(){++t>a&&$(this).hide(),t<=a&&$(this).show()})),n>a)for(var i=Math.ceil(n/a),s=1;s<=i;)$(".pagination").append('<li data-page="'+s+'">\t\t\t\t\t\t\t \t      <span>'+s+++'<span class="sr-only"></span></span>\t\t\t\t\t\t\t\t    </li>').show();$(".pagination li:first-child").addClass("active"),u(a,1,n),$(".pagination li").on("click",(function(t){t.preventDefault();var i=$(this).attr("data-page"),s=0;$(".pagination li").removeClass("active"),$(this).addClass("active"),u(a,i,n),$(e+" tr:gt(0)").each((function(){++s>a*i||s<=a*i-a?$(this).hide():this.style.display=""}))}))}))}function u(e,t,a){var n=e*t,i="Showing "+(e*t-e+parseFloat(1))+" to "+n+" of "+a+" entries";$(".rows_count").html(i)}switch(n("#table-id"),$("#maxRows").trigger("change"),$((function(){})),t.type){case"reset":(async(e,t,a)=>{let c=await i.get({type:"getAll",self:i}),d=await o({type:"all"});for(let e in d)l({type:"item",key:d[e].id});for(let t=0;t<c.length;t++){let a=await s(c[t]);r({type:"item",key:`${c[t].id}`,value:JSON.stringify(c[t])}),e.querySelector("tbody").insertAdjacentHTML("beforeend",a)}let p=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<p.length;e++)await y({type:"plan",this:p[e]});$("#maxRows").trigger("change"),n("#table-id")})(e);break;case"search_input_id":(async(e,t,a)=>{let c,u,g;c=t.data,u=t.data.toLowerCase();let h=await i.get({type:"id",id:u}),f=await d({type:"sessionStorage",item:"id",length:u.length});if(e.querySelector("tbody").innerHTML="",f){let t=await o({type:"all"});if(e.querySelector("tbody").innerHTML="",void 0===h){for(let e in t)l({type:"item",key:t[e].id});$("#maxRows").trigger("change"),n("#table-id")}else for(let a in t){let n=!1;if(h.length>1){for(let n=0;n<h.length;n++)if(t[a].id===h[n].id){let t=await s(h[n]);r({type:"item",key:`${h[n].id}`,value:JSON.stringify(h[n])}),e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}}else{if(h.id===t[a].id){n=!0;let t=await s(h);r({type:"item",key:`${h.id}`,value:JSON.stringify(h)}),e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}!1===n&&l({type:"item",key:t[a].id})}}g=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<g.length;e++)await y({type:"plan",this:g[e]});$("#maxRows").trigger("change"),n("#table-id")}else if(e.querySelector("tbody").innerHTML="",await p({type:"sessionStorage"}),void 0===h){h=await i.get({type:"getAll",self:i});for(let e=0;e<h.length;e++){await s(h[e])}g=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<g.length;e++)await y({type:"plan",this:g[e]});$("#maxRows").trigger("change"),n("#table-id")}else{if(await p({type:"sessionStorage"}),h.length>1)for(let t=0;t<h.length;t++){let a=await s(h[t]);r({type:"item",key:`${h[t].id}`,value:JSON.stringify(h[t])}),e.querySelector("tbody").insertAdjacentHTML("beforeend",a)}else{let t=await s(h);r({type:"item",key:`${h.id}`,value:JSON.stringify(h)}),e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}g=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<g.length;e++)await y({type:"plan",this:g[e]});$("#maxRows").trigger("change"),n("#table-id")}})(e,t);break;case"search_input_City":(async(e,t,a)=>{let o,u,g=await i.get({type:"index",index:"city",filter:t.data.toLowerCase()});o=t.data.toLowerCase();let h=await d({type:"sessionStorage",item:"city",length:o.length});switch(o){case"1":o="москва",await c({type:"sessionStorage",key:"city",value:-10});break;case"2":o="санкт-петербург",await c({type:"sessionStorage",key:"city",value:-10});break;default:o="Все",await c({type:"sessionStorage",key:"city",value:-9})}if(e.querySelector("tbody").innerHTML="",h){let t=Object.keys(sessionStorage);for(let a=0;a<t.length;a++)if(t[a].split("_").length>1);else{let n=!1;for(let i=0;i<g.length;i++)if(g[i].id===t[a]){n=!0;let t=await s(g[i]);e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}!1===n&&l({type:"item",key:t[a]})}}else{await p({type:"sessionStorage"});for(let t=0;t<g.length;t++){let a=await s(g[t]);r({type:"item",key:`${g[t].id}`,value:JSON.stringify(g[t])}),e.querySelector("tbody").insertAdjacentHTML("beforeend",a),u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}}$("#maxRows").trigger("change"),n("#table-id")})(e,t);break;case"search_input_Developer":(async(e,t,a)=>{let o,c,u;o=t.data,c=t.data.toLowerCase();let g=await i.get({type:"index",index:"name",filter:c,self:i}),h=await d({type:"sessionStorage",item:"name",length:c.length});if(e.querySelector("tbody").innerHTML="",h){let t=Object.keys(sessionStorage);for(let a=0;a<t.length;a++)if(t[a].split("_").length>1);else{let n=!1;for(let i=0;i<g.length;i++)if(g[i].id===t[a]){n=!0;let t=await s(g[i]);e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}!1===n&&l({type:"item",key:t[a]})}}else{await p({type:"sessionStorage"});for(let t=0;t<g.length;t++){let a=await s(g[t]);r({type:"item",key:`${g[t].id}`,value:JSON.stringify(g[t])}),e.querySelector("tbody").insertAdjacentHTML("beforeend",a)}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}$("#maxRows").trigger("change"),n("#table-id")})(e,t);break;case"search_input_Object":(async(e,t,a)=>{let o,c,u;o=t.data,c=t.data.toLowerCase();let g=await i.get({type:"index",index:"object",filter:c,self:i}),h=await d({type:"sessionStorage",item:"object",length:c.length});if(e.querySelector("tbody").innerHTML="",h){let t=Object.keys(sessionStorage);for(let a=0;a<t.length;a++)if(t[a].split("_").length>1);else{let n=!1;for(let i=0;i<g.length;i++)if(g[i].id===t[a]){n=!0;let t=await s(g[i]);e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}!1===n&&l({type:"item",key:t[a]})}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}else{await p({type:"sessionStorage"});for(let t=0;t<g.length;t++){let a=await s(g[t]);r({type:"item",key:`${g[t].id}`,value:JSON.stringify(g[t])}),e.querySelector("tbody").insertAdjacentHTML("beforeend",a)}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}$("#maxRows").trigger("change"),n("#table-id")})(e,t);break;case"search_input_Deadline":(async(e,t,a)=>{let o,c,u;o=t.data,c=t.data.toLowerCase();let g=await i.get({type:"index",index:"dateExperiences",filter:c,self:i}),h=await d({type:"sessionStorage",item:"dateExperiences",length:c.length});if(e.querySelector("tbody").innerHTML="",h){let t=Object.keys(sessionStorage);for(let a=0;a<t.length;a++)if(t[a].split("_").length>1);else{let n=!1;for(let i=0;i<g.length;i++)if(g[i].id===t[a]){n=!0;let t=await s(g[i]);e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}!1===n&&l({type:"item",key:t[a]})}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}else{await p({type:"sessionStorage"});for(let t=0;t<g.length;t++){let a=await s(g[t]);r({type:"item",key:`${g[t].id}`,value:JSON.stringify(g[t])}),e.querySelector("tbody").insertAdjacentHTML("beforeend",a)}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}$("#maxRows").trigger("change"),n("#table-id")})(e,t);break;case"search_input_houseType":(async(e,t,a)=>{let o,c,u;o=t.data,c=t.data.toLowerCase(),console.assert(!1,c);let g=await i.get({type:"index",index:"type",filter:c,self:i}),h=await d({type:"sessionStorage",item:"type",length:c.length});if(e.querySelector("tbody").innerHTML="",h){let t=Object.keys(sessionStorage);for(let a=0;a<t.length;a++)if(t[a].split("_").length>1);else{let n=!1;for(let i=0;i<g.length;i++)if(g[i].id===t[a]){n=!0;let t=await s(g[i]);e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}!1===n&&l({type:"item",key:t[a]})}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}else{await p({type:"sessionStorage"});for(let t=0;t<g.length;t++){let a=await s(g[t]);r({type:"item",key:`${g[t].id}`,value:JSON.stringify(g[t])}),e.querySelector("tbody").insertAdjacentHTML("beforeend",a)}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}$("#maxRows").trigger("change"),n("#table-id")})(e,t);break;case"search_input_houseClass":(async(e,t,a)=>{let o,c,u;o=t.data,c=t.data.toLowerCase();let g=await i.get({type:"index",index:"class",filter:c}),h=await d({type:"sessionStorage",item:"class",length:c.length});if(e.querySelector("tbody").innerHTML="",h){let t=Object.keys(sessionStorage);for(let a=0;a<t.length;a++)if(t[a].split("_").length>1);else{let n=!1;for(let i=0;i<g.length;i++)if(g[i].id===t[a]){n=!0;let t=await s(g[i]);e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}!1===n&&l({type:"item",key:t[a]})}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}else{await p({type:"sessionStorage"});for(let t=0;t<g.length;t++){let a=await s(g[t]);r({type:"item",key:`${g[t].id}`,value:JSON.stringify(g[t])}),e.querySelector("tbody").insertAdjacentHTML("beforeend",a)}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}$("#maxRows").trigger("change"),n("#table-id")})(e,t);break;case"search_input_Metro":(async(e,t,a)=>{let o,c,u;o=t.data,c=t.data.toLowerCase();let g=await i.get({type:"index",index:"metro",filter:c,self:i}),h=await d({type:"sessionStorage",item:"metro",length:c.length});if(e.querySelector("tbody").innerHTML="",h){let t=Object.keys(sessionStorage);for(let a=0;a<t.length;a++)if(t[a].split("_").length>1);else{let n=!1;for(let i=0;i<g.length;i++)if(g[i].id===t[a]){n=!0;let t=await s(g[i]);e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}!1===n&&l({type:"item",key:t[a]})}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}else{await p({type:"sessionStorage"});for(let t=0;t<g.length;t++){let a=await s(g[t]);r({type:"item",key:`${g[t].id}`,value:JSON.stringify(g[t])}),e.querySelector("tbody").insertAdjacentHTML("beforeend",a)}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}$("#maxRows").trigger("change"),n("#table-id")})(e,t);break;case"search_input_geo":(async(e,t,a)=>{let o,c,u;o=t.data,c=t.data.toLowerCase();let g=await i.get({type:"index",index:"geo",filter:c,self:i}),h=await d({type:"sessionStorage",item:"geo",length:c.length});if(e.querySelector("tbody").innerHTML="",h){let t=Object.keys(sessionStorage);for(let a=0;a<t.length;a++)if(t[a].split("_").length>1);else{let n=!1;for(let i=0;i<g.length;i++)if(g[i].id===t[a]){n=!0;let t=await s(g[i]);e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}!1===n&&l({type:"item",key:t[a]})}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}else{await p({type:"sessionStorage"});for(let t=0;t<g.length;t++){let a=await s(g[t]);r({type:"item",key:`${g[t].id}`,value:JSON.stringify(g[t])}),e.querySelector("tbody").insertAdjacentHTML("beforeend",a)}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]});u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}$("#maxRows").trigger("change"),n("#table-id")})(e,t);break;case"search_input_plan":(async(e,t,a)=>{let o,c,u;o=t.data,c=t.data.toLowerCase();let g=await i.get({type:"index",index:"plans",filter:c}),h=await d({type:"sessionStorage",item:"plans",length:c.length});if(e.querySelector("tbody").innerHTML="",h){let t=Object.keys(sessionStorage);for(let a=0;a<t.length;a++)if(t[a].split("_").length>1);else{let n=!1;for(let i=0;i<g.length;i++)if(g[i].id===t[a]){n=!0;let t=await s(g[i]);e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}!1===n&&l({type:"item",key:t[a]})}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}else{await p({type:"sessionStorage"});for(let t=0;t<g.length;t++){let a=await s(g[t]);r({type:"item",key:`${g[t].id}`,value:JSON.stringify(g[t])}),e.querySelector("tbody").insertAdjacentHTML("beforeend",a)}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]});u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}$("#maxRows").trigger("change"),n("#table-id")})(e,t);break;case"search_input_price":(async(e,t,a)=>{let o,c,u;o=t.data,c=t.data.toLowerCase();let g=await i.get({type:"index",index:"price",filter:c,self:i}),h=await d({type:"sessionStorage",item:"price",length:c.length});if(e.querySelector("tbody").innerHTML="",h){let t=Object.keys(sessionStorage);for(let a=0;a<t.length;a++)if(t[a].split("_").length>1);else{let n=!1;for(let i=0;i<g.length;i++)if(g[i].id===t[a]){n=!0;let t=await s(g[i]);e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}!1===n&&l({type:"item",key:t[a]})}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}else{await p({type:"sessionStorage"});for(let t=0;t<g.length;t++){let a=await s(g[t]);r({type:"item",key:`${g[t].id}`,value:JSON.stringify(g[t])}),e.querySelector("tbody").insertAdjacentHTML("beforeend",a)}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}$("#maxRows").trigger("change"),n("#table-id")})(e,t);break;case"search_input_Finish":(async(e,t,a)=>{let o,c,u;o=t.data,c=t.data.toLowerCase();let g=await i.get({type:"index",index:"finish",filter:c,self:i}),h=await d({type:"sessionStorage",item:"finish",length:c.length});if(e.querySelector("tbody").innerHTML="",h){let t=Object.keys(sessionStorage);for(let a=0;a<t.length;a++)if(t[a].split("_").length>1);else{let n=!1;for(let i=0;i<g.length;i++)if(g[i].id===t[a]){n=!0;let t=await s(g[i]);e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}!1===n&&l({type:"item",key:t[a]})}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}else{await p({type:"sessionStorage"});for(let t=0;t<g.length;t++){let a=await s(g[t]);r({type:"item",key:`${g[t].id}`,value:JSON.stringify(g[t])}),e.querySelector("tbody").insertAdjacentHTML("beforeend",a)}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}$("#maxRows").trigger("change"),n("#table-id")})(e,t);break;case"search_input_AdditionalInfo":(async(e,t,a)=>{let o,c,u;o=t.data,c=t.data.toLowerCase();let g=await i.get({type:"index",index:"description",filter:c,self:i}),h=await d({type:"sessionStorage",item:"description",length:c.length});if(e.querySelector("tbody").innerHTML="",h){let t=Object.keys(sessionStorage);for(let a=0;a<t.length;a++)if(t[a].split("_").length>1);else{let n=!1;for(let i=0;i<g.length;i++)if(g[i].id===t[a]){n=!0;let t=await s(g[i]);e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}!1===n&&l({type:"item",key:t[a]})}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}else{await p({type:"sessionStorage"});for(let t=0;t<g.length;t++){let a=await s(g[t]);r({type:"item",key:`${g[t].id}`,value:JSON.stringify(g[t])}),e.querySelector("tbody").insertAdjacentHTML("beforeend",a)}u=e.querySelector("tbody").querySelectorAll(".search_input_plan");for(let e=0;e<u.length;e++)await y({type:"plan",this:u[e]})}$("#maxRows").trigger("change"),n("#table-id")})(e,t)}};let g=[{city:[],search:""},{name:[],search:""},{object:[],search:""},{dateExperiences:[],search:""},{class:[],search:""},{type:[],search:""},{metro:[],search:""},{geo:[],search:""},{plans:[],search:""},{price:[],search:""},{finish:[],search:""},{description:[],search:""},{timestampUpdate:[],search:""}];for(let e in g)for(let t in g[e])switch(t){case"city":g[e][t].push({word:"москва",change:"москва"}),g[e][t].push({word:"санкт-петербург",change:"санкт-петербург"}),g[e][t].push({word:"подмосковье",change:"москва"});break;case"name":g[e][t].push({word:"Tokio группа",change:"Tekia Group"}),g[e][t].push({word:"Tokio группа",change:"Tekia Group"}),g[e][t].push({word:"таким грубым",change:"Tekia Group"}),g[e][t].push({word:"Так я группу",change:"Tekia Group"}),g[e][t].push({word:"роуз групп",change:"роуз групп"}),g[e][t].push({word:"кортрос",change:"кортрос"}),g[e][t].push({word:"Капитал гроуп",change:"Капитал гроуп"}),g[e][t].push({word:"вайнбридж",change:"вайнбридж"});break;case"object":g[e][t].push({word:"Биг Тайм",change:"Биг Тайм"}),g[e][t].push({word:"Спайрс",change:"Спайрс"}),g[e][t].push({word:"Микрогород в лесу",change:"Микрогород в лесу"}),g[e][t].push({word:"Big Time",change:"Big Time"}),g[e][t].push({word:"Прайс",change:"Спайрс"});break;case"dateExperiences":break;case"class":g[e][t].push({word:"обычный",change:"обычный"}),g[e][t].push({word:"обычно",change:"обычный"}),g[e][t].push({word:"элитный",change:"элитный"}),g[e][t].push({word:"элитно",change:"элитный"}),g[e][t].push({word:"комфорт",change:"комфорт"})}(async()=>{await i.set({type:"dictionary",data:g})})();var h=async(e,t,...a)=>new Promise(async(t,a)=>{let n=e=>{t(e)},i=e.this.parentNode.querySelectorAll("th");for(let e=0;e<i.length;e++)if(i[e].querySelector("input"))switch(i[e].querySelector("input").id){case"search_input_Developer":for(let t=0;t<g.length;t++)for(let a in g[t])switch(a){case"name":g[t].search=i[e].querySelector("input")}break;case"search_input_Object":for(let t=0;t<g.length;t++)for(let a in g[t])switch(a){case"object":g[t].search=i[e].querySelector("input")}break;case"search_input_Deadline":for(let t=0;t<g.length;t++)for(let a in g[t])switch(a){case"dateExperiences":g[t].search=i[e].querySelector("input")}break;case"search_input_houseClass":for(let t=0;t<g.length;t++)for(let a in g[t])switch(a){case"class":g[t].search=i[e].querySelector("input")}break;case"search_input_houseType":for(let t=0;t<g.length;t++)for(let a in g[t])switch(a){case"type":g[t].search=i[e].querySelector("input")}break;case"search_input_Metro":for(let t=0;t<g.length;t++)for(let a in g[t])switch(a){case"metro":g[t].search=i[e].querySelector("input")}break;case"search_input_geo":for(let t=0;t<g.length;t++)for(let a in g[t])switch(a){case"geo":g[t].search=i[e].querySelector("input")}break;case"search_input_plan":for(let t=0;t<g.length;t++)for(let a in g[t])switch(a){case"plans":g[t].search=i[e].querySelector("input")}break;case"search_input_price":for(let t=0;t<g.length;t++)for(let a in g[t])switch(a){case"price":g[t].search=i[e].querySelector("input")}break;case"search_input_Finish":for(let t=0;t<g.length;t++)for(let a in g[t])switch(a){case"finish":g[t].search=i[e].querySelector("input")}break;case"search_input_AdditionalInfo":for(let t=0;t<g.length;t++)for(let a in g[t])switch(a){case"description":g[t].search=i[e].querySelector("input")}}else if(i[e].querySelector("select"))for(let t=0;t<g.length;t++)for(let a in g[t])switch(a){case"city":g[t].search=i[e].querySelector("select")}switch(e.type){case"isFinal":(async(e,t,a)=>{let i=e.data.split(" ");for(let e=0;e<i.length;e++)for(let e=0;e<g.length;e++)for(let t in g[e])switch(t){case"city":case"name":case"object":case"dateExperiences":case"class":case"type":case"metro":case"geo":case"plans":case"price":case"finish":case"description":case"timestampUpdate":for(let a in g[e][t]);}n(!0)})(e),n(!0);break;case"isRaw":(async(e,t,a)=>{let i=e.data.split(" ");for(let t=0;t<i.length;t++)for(let a=0;a<g.length;a++)for(let n in g[a])switch(n){case"city":case"name":case"object":case"dateExperiences":for(let e in g[a][n]);break;case"class":for(let s in g[a][n])i[t].toLowerCase()===g[a][n][s].word.toLowerCase()&&u(e.this.parentNode,{type:"search_input_houseClass",data:g[a][n][s].change});break;case"type":case"metro":for(let s in g[a][n])i[t].toLowerCase()===g[a][n][s].word.toLowerCase()&&u(e.this.parentNode,{type:"search_input_houseType",data:g[a][n][s].change});break;case"geo":case"plans":case"price":case"finish":case"description":case"timestampUpdate":for(let e in g[a][n]);}n(!0)})(e),n(!0);break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),f=async(e,t,...a)=>new Promise(async(t,a)=>{switch(e.type){case"dictionary":(async(e,a,n)=>{(e=>{t(e)})(g=await i.get({type:"dictionary"}))})();break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),b={set:async(e,t,...a)=>new Promise(async(t,a)=>{switch(e.type){case"sessionStorage":(async(e,t,a)=>{await session.set({type:"item",key:`item_${e.key}`,value:e.value})})(e),(e=>{t(e)})(!0);break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),get:async(e,t,...a)=>new Promise(async(t,a)=>{switch(e.type){case"speech":(async(e,t,a)=>{let n={};function i(){for(let e=n.select_dialect.options.length-1;e>=0;e--)n.select_dialect.remove(e);let e=n.langs[n.select_language.selectedIndex];for(var t=1;t<e.length;t++)n.select_dialect.options.add(new Option(e[t][1],e[t][0]));n.select_dialect.style.visibility=1==e[1].length?"hidden":"visible"}function s(t){let a=e.this.shadowRoot.querySelector("#info");if(t){for(var n=a.firstChild;n;n=n.nextSibling)n.style&&(n.style.display=n.id==t?"inline":"none");a.style.visibility="visible"}else a.style.visibility="hidden"}n.select_dialect=e.dialect,n.select_language=e.language,n.langs=[],n.langs=[["Afrikaans",["af-ZA"]],["Bahasa Indonesia",["id-ID"]],["Bahasa Melayu",["ms-MY"]],["Català",["ca-ES"]],["Čeština",["cs-CZ"]],["Deutsch",["de-DE"]],["English",["en-AU","Australia"],["en-CA","Canada"],["en-IN","India"],["en-NZ","New Zealand"],["en-ZA","South Africa"],["en-GB","United Kingdom"],["en-US","United States"]],["Español",["es-AR","Argentina"],["es-BO","Bolivia"],["es-CL","Chile"],["es-CO","Colombia"],["es-CR","Costa Rica"],["es-EC","Ecuador"],["es-SV","El Salvador"],["es-ES","España"],["es-US","Estados Unidos"],["es-GT","Guatemala"],["es-HN","Honduras"],["es-MX","México"],["es-NI","Nicaragua"],["es-PA","Panamá"],["es-PY","Paraguay"],["es-PE","Perú"],["es-PR","Puerto Rico"],["es-DO","República Dominicana"],["es-UY","Uruguay"],["es-VE","Venezuela"]],["Euskara",["eu-ES"]],["Français",["fr-FR"]],["Galego",["gl-ES"]],["Hrvatski",["hr_HR"]],["IsiZulu",["zu-ZA"]],["Íslenska",["is-IS"]],["Italiano",["it-IT","Italia"],["it-CH","Svizzera"]],["Magyar",["hu-HU"]],["Nederlands",["nl-NL"]],["Norsk bokmål",["nb-NO"]],["Polski",["pl-PL"]],["Português",["pt-BR","Brasil"],["pt-PT","Portugal"]],["Română",["ro-RO"]],["Slovenčina",["sk-SK"]],["Suomi",["fi-FI"]],["Svenska",["sv-SE"]],["Türkçe",["tr-TR"]],["български",["bg-BG"]],["Pусский",["ru-RU"]],["Српски",["sr-RS"]],["한국어",["ko-KR"]],["中文",["cmn-Hans-CN","普通话 (中国大陆)"],["cmn-Hans-HK","普通话 (香港)"],["cmn-Hant-TW","中文 (台灣)"],["yue-Hant-HK","粵語 (香港)"]],["日本語",["ja-JP"]],["Lingua latīna",["la"]]],n.one_line=/\n/g,n.two_line=/\n\n/g,n.first_char=/\S/,n.current_style={};for(let e=0;e<n.langs.length;e++)n.select_language.options[e]=new Option(n.langs[e][0],e);function r(e){e!=n.current_style&&(n.current_style=e,n.copy_button.style.display=e,n.email_button.style.display=e,n.copy_info.style.display="none",n.email_info.style.display="none")}function o(){let e=n.final_transcript.indexOf("\n");(e<0||e>=80)&&(e=40+n.final_transcript.substring(40).indexOf(" "));let t=encodeURI(n.final_transcript.substring(0,e)),a=encodeURI(n.final_transcript.substring(e+1));window.location.href="mailto:?subject="+t+"&body="+a}if(n.select_language.selectedIndex=26,i(),n.select_dialect.selectedIndex=0,n.start_button=e.this.shadowRoot.querySelector("#start_button"),n.copy_button=e.this.shadowRoot.querySelector("#copy_button"),n.email_button=e.this.shadowRoot.querySelector("#email_button"),n.final_span=e.this.shadowRoot.querySelector("#final_span"),n.interim_span=e.this.shadowRoot.querySelector("#interim_span"),n.start_img=e.this.shadowRoot.querySelector("#start_img"),n.copy_info=e.this.shadowRoot.querySelector("#copy_info"),n.email_info=e.this.shadowRoot.querySelector("#email_info"),n.select_language.addEventListener("change",i),n.start_button.addEventListener("click",(function(e){if(n.recognizing)return void n.recognition.stop();n.final_transcript="",n.recognition.lang=n.select_dialect.value,n.recognition.start(),n.ignore_onend=!1,n.final_span.innerHTML="",n.interim_span.innerHTML="",n.start_img.src="/js/module/mic-slash.gif",s("info_allow"),r("none"),n.start_timestamp=e.timeStamp})),n.copy_button.addEventListener("click",(function(){n.recognizing&&(n.recognizing=!1,n.recognition.stop());n.copy_button.style.display="none",n.copy_info.style.display="inline-block",s("")})),n.email_button.addEventListener("click",(function(){n.recognizing?(n.create_email=!0,n.recognizing=!1,n.recognition.stop()):o();n.email_button.style.display="none",n.email_info.style.display="inline-block",s("")})),s("info_start"),n.create_email=!1,n.final_transcript="",n.recognizing=!1,n.ignore_onend={},n.start_timestamp={},"webkitSpeechRecognition"in window){function l(e){return e.replace(n.two_line,"<p></p>").replace(n.one_line,"<br>")}n.start_button.style.display="inline-block",n.recognition=new webkitSpeechRecognition,n.recognition.continuous=!0,n.recognition.interimResults=!0,n.recognition.onstart=async function(){n.recognizing=!0,s("info_speak_now"),n.start_img.src="/js/module/mic-animate.gif",await f({type:"dictionary"})},n.recognition.onerror=function(t){"no-speech"==t.error&&(n.start_img.src="/js/module/mic.gif",s("info_no_speech"),n.ignore_onend=!0),"audio-capture"==t.error&&(n.start_img.src="/js/module/mic.gif",s("info_no_microphone"),n.ignore_onend=!0),"not-allowed"==t.error&&(t.timeStamp-e.start_timestamp<100?s("info_blocked"):s("info_denied"),n.ignore_onend=!0)},n.recognition.onend=function(){if(console.log("~~~~~~~~~~end~~~~~~~~~"),n.recognizing=!1,!n.ignore_onend)if(n.start_img.src="/js/module/mic.gif",n.final_transcript){if(s(""),window.getSelection){window.getSelection().removeAllRanges();let t=document.createRange();t.selectNode(e.this.shadowRoot.querySelector("#final_span")),window.getSelection().addRange(t)}n.create_email&&(n.create_email=!1,o()),u(e.this.parentNode,{type:"reset"})}else s("info_start")},n.recognition.onresult=function(t){n.interim_transcript="";for(let a=t.resultIndex;a<t.results.length;++a)t.results[a].isFinal?(h({type:"isFinal",data:t.results[a][0].transcript,this:e.this}),n.final_transcript+=t.results[a][0].transcript):(h({type:"isRaw",data:t.results[a][0].transcript,this:e.this}),n.interim_transcript+=t.results[a][0].transcript);n.final_transcript=n.final_transcript.replace(n.first_char,(function(e){return e.toUpperCase()})),n.final_span.innerHTML=l(n.final_transcript),n.interim_span.innerHTML=l(n.interim_transcript),(n.final_transcript||n.interim_transcript)&&r("inline-block")}}else e.this.shadowRoot.querySelector("#start_button").style.visibility="hidden",s("info_upgrade")})(e);break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),put:async(e,t,...a)=>new Promise(async(t,a)=>{switch(e.type){case"getAll":break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),delete:async(e,t,...a)=>new Promise(async(t,a)=>{switch(e.type){case"getAll":((e,a,n)=>{(e=>{t(e)})(sessionStorage.removeItem(e.key))})(e);break;default:(e=>{a(e)})(`новая функция ${e.type} `)}}),clearn:async(e,t,...a)=>new Promise(async(t,a)=>{switch(e.type){case"sessionStorage":((e,a,n)=>{let i=Object.keys(sessionStorage);for(let e=0;e<i.length;e++)i[e].split("_").length>1||session.delete({type:"item",key:i[e]});(e=>{t(e)})(!0)})();break;default:(e=>{a(e)})(`новая функция ${e.type} `)}})};let w=document.createElement("template");w.innerHTML='\n<style>@import \'/js/module/speech-index.css\';</style>\n<section id="speech">\n   <h1 class="center" id="headline">\n\x3c!--     <a href="http://dvcs.w3.org/hg/speech-api/raw-file/tip/speechapi.html">Web Speech</a></h1>--\x3e\n   <div id="info">\n     <p id="info_start">Click on the microphone icon and begin speaking.</p>\n     <p id="info_speak_now">Speak now.</p>\n     <p id="info_no_speech">No speech was detected. You may need to adjust your\n       <a href="//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892">\n         microphone settings</a>.</p>\n     <p id="info_no_microphone" style="display:none">\n       No microphone was found. Ensure that a microphone is installed and that\n       <a href="//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892">\n       microphone settings</a> are configured correctly.</p>\n     <p id="info_allow">Click the "Allow" button above to enable your microphone.</p>\n     <p id="info_denied">Permission to use microphone was denied.</p>\n     <p id="info_blocked">Permission to use microphone is blocked. To change,\n       go to chrome://settings/contentExceptions#media-stream</p>\n     <p id="info_upgrade">Web Speech API is not supported by this browser.\n        Upgrade to <a href="//www.google.com/chrome">Chrome</a>\n        version 25 or later.</p>\n   </div>\n   <div class="right">\n     <button id="start_button">\n       <img id="start_img" src="/js/module/mic.gif" alt="Start"></button>\n   </div>\n   <div id="results">\n     <span id="final_span" class="final"></span>\n     <span id="interim_span" class="interim"></span>\n     <p>\n   </div>\n   <div class="center">\n     <div class="sidebyside" style="text-align:right">\n       <button id="copy_button" class="button">\n         Copy and Paste</button>\n       <div id="copy_info" class="info">\n         Press Control-C to copy text.<br>(Command-C on Mac.)\n       </div>\n     </div>\n     <div class="sidebyside">\n       <button id="email_button" class="button">Create Email</button>\n       <div id="email_info" class="info">\n         Text sent to default email application.<br>\n         (See chrome://settings/handlers to change.)\n       </div>\n     </div>\n     <div id="div_language">\n       <select id="select_language"></select>\n       &nbsp;&nbsp;\n       <select id="select_dialect"></select>\n     </div>\n   </div>\n</section>\n';class m extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(w.content.cloneNode(!0))}connectedCallback(){(async()=>{await b.get({type:"speech",this:this,language:this.shadowRoot.querySelector("#select_language"),dialect:this.shadowRoot.querySelector("#select_dialect")})})()}disconnectedCallback(){}componentWillMount(){}componentDidMount(){}componentWillUnmount(){}componentDidUnmount(){}}window.customElements.define("speech-index",m)}]);